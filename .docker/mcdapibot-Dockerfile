# Grab latest Apline Linux
FROM alpine:latest
LABEL maintainer="me@hexile.xyz"

COPY requirements-docker.txt /

RUN apk add --no-cache --virtual persistent python3 libjpeg-turbo-dev \
&& apk add --no-cache --virtual build python3-dev gcc musl-dev libffi-dev openssl-dev libjpeg-turbo-dev zlib-dev \
&& pip3 install -r /requirements-docker.txt && rm -rf /root/.cache && apk del build

# Fix for timezone
RUN apk add tzdata
RUN cp /usr/share/zoneinfo/Europe/Rome /etc/localtime

COPY . /app
WORKDIR /app

CMD ["python3", "main.py"]